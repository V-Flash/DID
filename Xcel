add_filter('woocommerce_product_get_weight', 'custom_get_weight', 10, 2);

function custom_get_weight($weight, $product) {
    if ($weight >= 1000) {
        $weight = $weight / 1000;
        $weight_unit = 'kg';
    } else {
        $weight_unit = 'gm';
    }

    // Return the formatted weight with the unit
    return number_format($weight, 2) . ' ' . $weight_unit;
}
