<!-- Product list -->
<div class="product" data-categories="3 4" data-weight="30" data-price="100">
    Product 5 (3, 4, Weight 30g)
    <div data-price="100">Price ₹100</div>
</div>

<div class="product" data-categories="1 3" data-weight="20" data-price="150">
    Product 3 (1, 3, Weight 20g)
    <div data-price="150">Price ₹150</div>
</div>

<!-- Message for no products found -->
<p class="no-products-found" style="display: none;">No products found.</p>

<div id="min-max-container"></div>
<div id="slider-range"></div>

<script>
    function initializeSlider() {
        var minMaxContainer = document.getElementById("min-max-container");

        $("#slider-range").slider({
            range: true,
            min: 100,
            max: 500,
            values: [100, 500],
            slide: function(event, ui) {
                minMaxContainer.innerHTML = "<div class='min-max-item'><span>Min Price:</span> ₹" + ui.values[0] + "</div><div class='min-max-item'><span>Max Price:</span> ₹" + ui.values[1] + "</div>";
                filterProducts();
            }
        });

        minMaxContainer.innerHTML = "<div class='min-max-item'><span>Min Price:</span> ₹" + $("#slider-range").slider("values", 0) +
            "</div><div class='min-max-item'><span>Max Price:</span> ₹" + $("#slider-range").slider("values", 1) + "</div>";
    }

    $(document).ready(function() {
        initializeSlider();

        $('.filter, .weight-filter').change(function() {
            filterProducts();
        });

        function filterProducts() {
            var checkedCategories = $('.filter:checked').map(function() {
                return $(this).data('category').toString();
            }).get();

            var selectedWeights = $('.weight-filter:checked').map(function() {
                return parseInt($(this).data('weight'));
            }).get();

            var selectedPrices = $("#slider-range").slider("values");

            var productsToShow = $('.product').filter(function() {
                var productCategories = ($(this).data('categories').toString()).split(' ');
                var productWeight = parseInt($(this).data('weight'));
                var productPrice = parseInt($(this).data('price'));

                var categoryMatch = checkedCategories.length === 0 || productCategories.some(category => checkedCategories.includes(category));
                var weightMatch = selectedWeights.length === 0 || selectedWeights.includes(productWeight);
                var priceMatch = (selectedPrices[0] === 100 && selectedPrices[1] === 500) || (productPrice >= selectedPrices[0] && productPrice <= selectedPrices[1]);

                return categoryMatch && weightMatch && priceMatch;
            });

            if (productsToShow.length === 0) {
                $('.no-products-found').show();
            } else {
                $('.no-products-found').hide();
            }

            $('.product').hide();
            productsToShow.show();
        }
    });
</script>
