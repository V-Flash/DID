<div class="catagories-side-bar mb-5 mt-4">
    <h4>Categories</h4>
    <?php
    $categories = get_categories(
        array(
            'hide_empty' => 0,
            'taxonomy'   => 'product_cat',
        )
    );
    ?>

    <div class="categories-under">
        <?php
        foreach ($categories as $category) {
            if ($category->name == 'Uncategorized') {
                continue;
            }
            $thumbnail_id = get_term_meta($category->term_id, 'thumbnail_id', true);
            $term = get_term($thumbnail_id, 'product_cat');
            
            // Echo the category name and count
            echo '<div class="form-check mb-2">';
            echo '<input class="form-check-input" type="checkbox" id="' . esc_attr($category->term_id) . '">';
            echo '<label class="form-check-label" for="' . esc_attr($category->term_id) . '">' . esc_html($category->name);
            
            if (!is_null($term) && isset($term->count)) {
                echo ' <span>(' . esc_html($term->count) . ')</span>';
            }

            echo '</label>';
            echo '</div>';
        }
        ?>
    </div>
</div>
