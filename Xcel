<?php
do_action('woocommerce_before_add_to_cart_quantity');

// Check if the form has been submitted
if (isset($_POST['add-to-cart'])) {
    // Set the input value to 1
    $input_value = 1;
} else {
    // Use the default input value as before
    $input_value = isset($_POST['quantity']) ? wc_stock_amount(wp_unslash($_POST['quantity'])) : $product->get_min_purchase_quantity();
}

woocommerce_quantity_input(
    array(
        'min_value' => apply_filters('woocommerce_quantity_input_min', $product->get_min_purchase_quantity(), $product),
        'max_value' => apply_filters('woocommerce_quantity_input_max', $product->get_max_purchase_quantity(), $product),
        'input_value' => $input_value, // Set the input value based on the condition
    )
);

do_action('woocommerce_after_add_to_cart_quantity');
?>
