function filterProducts() {
  // ...

  // Show products that match the checked categories, selected exact weights, and price range
  var productsToShow = $('.product').filter(function () {
    var productCategories = ($(this).data('categories').toString()).split(' ');
    var productWeight = parseInt($(this).data('weight'));
    var productPrice = parseInt($(this).data('price'));

    var categoryMatch = checkedCategories.length === 0 || productCategories.some(category => checkedCategories.includes(category));
    var weightMatch = selectedWeights.length === 0 || selectedWeights.includes(productWeight);
    var priceMatch = (minPrice === 100 && maxPrice === 500) || (productPrice >= minPrice && productPrice <= maxPrice);

    // Adjust the priceMatch condition to handle both minimum and maximum prices
    if (minPrice === 100 && maxPrice === 500) {
      return categoryMatch && weightMatch && priceMatch;
    } else if (minPrice === 100) {
      return categoryMatch && weightMatch && (productPrice <= maxPrice);
    } else if (maxPrice === 500) {
      return categoryMatch && weightMatch && (productPrice >= minPrice);
    } else {
      return categoryMatch && weightMatch && (productPrice >= minPrice && productPrice <= maxPrice);
    }
  });

  // ...
}
