function saveFilterSelections() {
  var selectedFilters = {
    minPrice: minPrice,
    maxPrice: maxPrice,
    checkedCategories: $('.filter:checked').map(function() {
      return $(this).data('category').toString();
    }).get(),
    selectedWeights: $('.weight-filter:checked').map(function() {
      return parseInt($(this).data('weight'));
    }).get()
  };

  // Save the filter selections to localStorage
  localStorage.setItem('filterSelections', JSON.stringify(selectedFilters));
}

function loadFilterSelections() {
  var savedFilters = localStorage.getItem('filterSelections');

  if (savedFilters) {
    savedFilters = JSON.parse(savedFilters);

    minPrice = savedFilters.minPrice;
    maxPrice = savedFilters.maxPrice;
    // Set the slider values
    $(".slider-range").slider('values', [minPrice, maxPrice]);

    // Check the checkboxes based on saved filter selections
    $('.filter, .weight-filter').prop('checked', false);
    savedFilters.checkedCategories.forEach(function(category) {
      $('.filter[data-category="' + category + '"]').prop('checked', true);
    });

    // Check the checkboxes for selected weights
    savedFilters.selectedWeights.forEach(function(weight) {
      $('.weight-filter[data-weight="' + weight + '"]').prop('checked', true);
    });

    // Set the price range display
    $(".amount").val("₹" + minPrice + " - ₹" + maxPrice);
    // Apply the filters based on the loaded selections
    filterProducts();
  }
}
