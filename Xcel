$(document).ready(function() {
  // Load selections from session storage
  var storedCategories = JSON.parse(sessionStorage.getItem('selectedCategories'));
  var storedWeights = JSON.parse(sessionStorage.getItem('selectedWeights'));
  var storedMinPrice = sessionStorage.getItem('minPrice');
  var storedMaxPrice = sessionStorage.getItem('maxPrice');

  if (storedCategories) {
    storedCategories.forEach(function(category) {
      $('.filter[data-category="' + category + '"]').prop('checked', true);
    });
  }

  if (storedWeights) {
    storedWeights.forEach(function(weight) {
      $('.weight-filter[data-weight="' + weight + '"]').prop('checked', true);
    });
  }

  if (storedMinPrice && storedMaxPrice) {
    minPrice = parseInt(storedMinPrice);
    maxPrice = parseInt(storedMaxPrice);

    // Update the price range slider
    $(".slider-range").slider("values", [minPrice, maxPrice]);
    $(".amount").val("₹" + minPrice + " - ₹" + maxPrice);
  }

  // Apply the selections to filter the products
  filterProducts();
});
