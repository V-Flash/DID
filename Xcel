// Check if the user has already seen the popup during this session
const hasSeenPopup = sessionStorage.getItem('hasSeenPopup');

// Check if the user has closed the popup
const popupClosed = sessionStorage.getItem('popupClosed');

if (!hasSeenPopup || !popupClosed) {
  const mediaQuery = window.matchMedia('(max-width: 767px)');

  if (mediaQuery.matches) {
    function checkScreenOrientation() {
      if (window.innerHeight > window.innerWidth) {
        $('#modal-popup02').modal('show');
        $("#landscapegif").css("display", "none");
      } else {
        $('#modal-popup02').modal('hide');
        $("#landscapegif").css("display", "flex");
      }
    }

    checkScreenOrientation();
    window.addEventListener('orientationchange', checkScreenOrientation);
    window.addEventListener('resize', checkScreenOrientation);
  } else {
    $('#modal-popup02').modal('show');
  }

  // Set a flag in session storage to indicate that the user has seen the popup during this session
  sessionStorage.setItem('hasSeenPopup', 'true');
}

// Add a click event handler for the modal close button
$('#modal-popup02').on('hidden.bs.modal', function () {
  // Set a flag in session storage to indicate that the user has closed the popup
  sessionStorage.setItem('popupClosed', 'true');
});
