<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Share Links</title>
</head>
<body>

<div class="shareBox">
    <div class="shareProduct">
        <div class="shareSocial">
            <h3 class="socialTitle">Share Product:</h3>
            <ul class="socialList">
                <li><a href="#" onclick="shareOnFacebook(event)"><i class="bi bi-facebook"></i></a></li>
                <li><a href="#" onclick="shareOnTwitter(event)"><i class="bi bi-twitter-x"></i></a></li>
                <li><a href="#" onclick="shareViaEmail(event)"><i class="bi bi-envelope"></i></a></li>
                <li><a href="#" onclick="shareOnWhatsApp(event)"><i class="bi bi-whatsapp"></i></a></li>
            </ul>
        </div>
        <div class="shareLink">
            <div class="permalink">
                <input class="textLink" id="urltext" type="text" name="shortlink" value="" id="copy-link" readonly="">
                <span class="copyLink" id="copy" tooltip="Copy to clipboard">
                    <i class="bi bi-copy"></i>
                </span>
            </div>
        </div>
    </div>
</div>

<script>
    const input = document.getElementById("urltext");
    const copyButton = document.getElementById("copy");

    const copyText = (e) => {
        input.select(); 
        document.execCommand("copy");
        e.currentTarget.setAttribute("tooltip", "Copied!");
    };

    const resetTooltip = (e) => {
        e.currentTarget.setAttribute("tooltip", "Copy to clipboard");
    };

    copyButton.addEventListener("click", (e) => {
        const currentUrl = window.location.href;
        document.getElementById("urltext").value = currentUrl;
        copyText(e);
    });

    copyButton.addEventListener("mouseover", (e) => resetTooltip(e));

    function shareOnFacebook(event) {
        event.preventDefault();
        const currentUrl = window.location.href;
        window.open('https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(currentUrl));
    }

    function shareOnTwitter(event) {
        event.preventDefault();
        const currentUrl = window.location.href;
        window.open('https://twitter.com/intent/tweet?url=' + encodeURIComponent(currentUrl));
    }

    function shareViaEmail(event) {
        event.preventDefault();
        const currentUrl = window.location.href;
        window.location.href = 'mailto:?body=' + encodeURIComponent(currentUrl);
    }

    function shareOnWhatsApp(event) {
        event.preventDefault();
        const currentUrl = window.location.href;
        window.open('https://api.whatsapp.com/send?text=' + encodeURIComponent(currentUrl));
    }
</script>

</body>
</html>
