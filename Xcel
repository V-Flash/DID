<?php
// Assuming you have an array of WooCommerce products called $products
foreach ( $products as $product ) {
    do_action( 'woocommerce_before_add_to_cart_button' );

    echo '<div class="purchase-box">';
    echo '<div class="qut-number">';
    
    do_action( 'woocommerce_before_add_to_cart_quantity' );
    
    woocommerce_quantity_input(
        array(
            'min_value'   => apply_filters( 'woocommerce_quantity_input_min', $product->get_min_purchase_quantity(), $product ),
            'max_value'   => apply_filters( 'woocommerce_quantity_input_max', $product->get_max_purchase_quantity(), $product ),
            'input_value' => isset( $_POST['quantity'] ) ? wc_stock_amount( wp_unslash( $_POST['quantity'] ) ) : $product->get_min_purchase_quantity(),
        )
    );

    do_action( 'woocommerce_after_add_to_cart_quantity' );
    
    echo '</div>';
    
    echo '<div class="purchase-button">';
    
    echo sprintf(
        '<a href="%s" class="%s single_add_to_cart_button ut_single_cart_btn button alt" %s" data-quantity="1"><i class="fa fa-shopping-cart"></i></a>',
        esc_url( $product->add_to_cart_url() ),
        esc_attr( implode( ' ', array_filter( array(
            'button', 'product_type_' . $product->get_type(),
            $product->is_purchasable() && $product->is_in_stock() ? 'add_to_cart_button' : '',
            $product->supports( 'ajax_add_to_cart' ) ? 'ajax_add_to_cart' : '',
        ) ) ) ),
        wc_implode_html_attributes( array(
            'data-product_id'  => $product->get_id(),
            'data-product_sku' => $product->get_sku(),
            'aria-label'       => $product->add_to_cart_description(),
            'rel'              => 'nofollow',
        ) ),
    );
    
    echo '</div>';
    echo '</div>';
    
    do_action( 'woocommerce_after_add_to_cart_button' );
}
?>
