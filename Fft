<script>
  // Show the specified year and mark it as active with fade-in
  function showYear(year) {
    var yearContainers = document.querySelectorAll('.year-container');
    yearContainers.forEach(function(container) {
      if (container.style.display === 'block') {
        fadeOut(container, function() {
          container.style.display = 'none';
          fadeIn(document.getElementById(year));
        });
      }
    });

    var yearLinks = document.querySelectorAll('.dropdown-menu a');
    yearLinks.forEach(function(yearLink) {
      yearLink.classList.remove('active-year');
    });

    var selectedYear = document.getElementById('selected-year');
    selectedYear.textContent = year;
    selectedYear.classList.add('active-year');

    // Toggle the dropdown
    var dropdownMenu = document.querySelector('.dropdown-menu');
    dropdownMenu.style.display = 'none';
  }

  // Fade-in function
  function fadeIn(element, callback) {
    var opacity = 0;
    element.style.display = 'block';

    var fadeEffect = setInterval(function() {
      if (opacity < 1) {
        opacity += 0.05;
        element.style.opacity = opacity;
      } else {
        clearInterval(fadeEffect);
        if (callback) callback();
      }
    }, 50);
  }

  // Fade-out function
  function fadeOut(element, callback) {
    var opacity = 1;

    var fadeEffect = setInterval(function() {
      if (opacity > 0) {
        opacity -= 0.05;
        element.style.opacity = opacity;
      } else {
        clearInterval(fadeEffect);
        element.style.display = 'none';
        if (callback) callback();
      }
    }, 50);
  }

  // Set the default year to be active
  document.addEventListener('DOMContentLoaded', function() {
    var defaultYearLink = document.querySelector('.dropdown-menu li:first-child a');
    showYear('2023', defaultYearLink);
  });

  // Toggle dropdown on click
  var dropdownToggle = document.querySelector('.click-dropdown');
  dropdownToggle.addEventListener('click', function() {
    var dropdownMenu = document.querySelector('.dropdown-menu');
    dropdownMenu.style.display = dropdownMenu.style.display === 'none' ? 'block' : 'none';
  });

  // Close dropdown when clicking outside
  window.addEventListener('click', function(event) {
    var dropdownMenu = document.querySelector('.dropdown-menu');
    if (!dropdownToggle.contains(event.target) && !dropdownMenu.contains(event.target)) {
      dropdownMenu.style.display = 'none';
    }
  });
</script>
