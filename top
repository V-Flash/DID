$(document).ready(function() {
  // Light-dark theme
  var themeSwitch = $("#flexSwitchCheckDefault");
  var currentTheme = localStorage.getItem("theme");

  function switchTheme() {
    var isChecked = themeSwitch.is(':checked');

    if (isChecked && $("body").hasClass("dark-theme")) {
      $("body").removeClass("dark-theme");
      localStorage.setItem("theme", "light");
    } else {
      $("body").addClass("dark-theme");
      localStorage.setItem("theme", "dark");
    }
  }

  themeSwitch.change(switchTheme);

  // Set initial theme based on localStorage
  if (currentTheme === "dark") {
    themeSwitch.prop("checked", true);
    switchTheme();
  }
});
